@model interaktiva20_2.Models.ViewModels.SearchResultViewModel

@section MyHeader
{
    <header>
        <div class="details-headerContainer">
            <h1>Cineast Movie Database</h1>
            <p>Home for movie lovers</p>
        </div>
    </header>
}

<main class="search-result-content">

    <h1>Search Result</h1>

    @{
        if (Model.SearchResult != null)
        {
        <div class="searchPages">
            <p class="totalSearch">Total Results: @Model.SearchResult.totalResults;</p>
            <p class="total-search-pages">Number of pages: @Model.TotalPages</p>

            <button class="movie-details-btn" onclick="location.href='@Url.Action("Index", "SearchResult", new { pageNum = 1, Model.SearchString})'" >
                First
            </button>
            <button class="movie-details-btn" onclick="location.href='@Url.Action("Index", "SearchResult", new { pageNum = (Model.CurrentPage - 1), Model.SearchString})'">
                Prev
            </button>
            
            <p>Current Page: @Model.CurrentPage</p>
            
            <button class="movie-details-btn" onclick="location.href='@Url.Action("Index", "SearchResult", new { pageNum = (Model.CurrentPage + 1), Model.SearchString})'">
                Next
            </button>
            <button class="movie-details-btn" onclick="location.href='@Url.Action("Index", "SearchResult", new { pageNum = Model.TotalPages, Model.SearchString})'">
                Last
            </button>
        </div>

            foreach (var movie in Model.SearchResult.Search)
            {
                <div class="searchedMovie">
                    <img class="searchPoster" src="@movie.Poster" />
                    <div class="flexitem">
                        <h2>@movie.Title</h2>
                        <p>@movie.Year</p>
                        <a href='@Url.Action("Index", "MovieDetail", new { imdbid = movie.imdbID })'>
                            <div class="movie-details-btn">To details >></div>
                        </a>
                    </div>
                </div>
            }
        }
        else
        {
            <h1 class="search-error">Sorry, no such movie could be found.</h1>
            <p class="search-error">Did you spell the title correctly?</p>

        }
    }
</main>

